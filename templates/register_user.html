<!DOCTYPE html>
<html>
<head>
    <title>Create Account | SecurePark</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
        <rect width='64' height='64' fill='%23667eea'/>
        <path d='M12 40 L18 28 Q20 24 26 24 L38 24 Q44 24 46 28 L52 40 Z' fill='white'/>
        <circle cx='22' cy='42' r='4' fill='%23667eea'/>
        <circle cx='42' cy='42' r='4' fill='%23667eea'/>
    </svg>">
</head>
<body>

<div class="card">
    <h2>Create Account</h2>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="alert">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('register_user') }}">

        <input 
            type="email" 
            name="email" 
            placeholder="Email Address" 
            required
        >

        <!-- Password -->
        <div class="input-group">
            <input 
                type="password" 
                name="password" 
                placeholder="Create Password" 
                required
            >
            <span class="toggle-password">
                <svg xmlns="http://www.w3.org/2000/svg"
                     width="20"
                     height="20"
                     viewBox="0 0 24 24"
                     fill="none"
                     stroke="currentColor"
                     stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                    <circle cx="12" cy="12" r="3"/>
                </svg>
            </span>
        </div>

        <!-- Confirm Password -->
        <div class="input-group">
            <input 
                type="password" 
                name="confirm_password" 
                placeholder="Confirm Password" 
                required
            >
            <span class="toggle-password">
                <svg xmlns="http://www.w3.org/2000/svg"
                     width="20"
                     height="20"
                     viewBox="0 0 24 24"
                     fill="none"
                     stroke="currentColor"
                     stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                    <circle cx="12" cy="12" r="3"/>
                </svg>
            </span>
        </div>

        <button type="submit" class="primary">
            Register
        </button>

    </form>

    <p>
        Already have an account?
        <a href="{{ url_for('login') }}">Login</a>
    </p>
</div>

<script>
document.querySelectorAll(".toggle-password").forEach(toggle => {
    toggle.addEventListener("click", function () {
        const input = this.previousElementSibling;

        if (input.type === "password") {
            input.type = "text";
        } else {
            input.type = "password";
        }
    });
});
</script>

</body>
</html>