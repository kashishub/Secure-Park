<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
        <rect width='64' height='64' fill='%23667eea'/>
        <path d='M12 40 L18 28 Q20 24 26 24 L38 24 Q44 24 46 28 L52 40 Z' fill='white'/>
        <circle cx='22' cy='42' r='4' fill='%23667eea'/>
        <circle cx='42' cy='42' r='4' fill='%23667eea'/>
    </svg>">
</head>
<body>

<div class="card">
    <h2>Owner Login</h2>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="alert">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <form method="POST">
        <input type="email" name="email" placeholder="Email" required>
        <div class="input-group">
            <input type="password" id="password" name="password" placeholder="Enter Password" required>
            <span class="toggle-password" onclick="togglePassword()">
                <svg id="eyeIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                    <circle cx="12" cy="12" r="3"/>
                </svg>
            </span>
        </div>
        <button type="submit" class="primary">Login</button>
    </form>

    <p>No account? <a href="{{ url_for('register_user') }}">Register</a></p>
</div>


<script>
function togglePassword() {
    const password = document.getElementById("password");
    const eyeIcon = document.getElementById("eyeIcon");

    if (password.type === "password") {
        password.type = "text";
        eyeIcon.innerHTML = `
            <path d="M17.94 17.94A10.94 10.94 0 0112 19C5 19 1 12 1 12a21.16 21.16 0 015.06-7.94"/>
            <line x1="1" y1="1" x2="23" y2="23"/>
        `;
    } else {
        password.type = "password";
        eyeIcon.innerHTML = `
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
            <circle cx="12" cy="12" r="3"/>
        `;
    }
}
</script>
</body>
</html>